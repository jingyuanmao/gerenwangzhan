MyPersonalWebsite/
├── src/
│   ├── HomeServlet.java
│   ├── ArticleServlet.java
│   ├── MediaServlet.java
│   ├── CommentServlet.java
│   ├── SearchServlet.java
├── web/
│   ├── index.jsp
│   ├── articles.jsp
│   ├── media.jsp
│   ├── comments.jsp
│   ├── search.jsp
│   ├── links.jsp
│   ├── style.css
│   ├── script.js
├── images/
│   ├── (store your images here)
├── videos/
│   ├── (store your videos here)
├── WEB-INF/
│   ├── web.xml
├── lib/
│   ├── (store JDBC driver and other libraries here)
└── README.md
CREATE DATABASE personal_website;
USE personal_website;

CREATE TABLE users (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) NOT NULL,
    bio TEXT,
    hobbies TEXT
);

CREATE TABLE articles (
    id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255) NOT NULL,
    content TEXT NOT NULL,
    date DATE NOT NULL,
    user_id INT,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE media (
    id INT PRIMARY KEY AUTO_INCREMENT,
    title VARCHAR(255),
    path VARCHAR(255) NOT NULL,
    type ENUM('image', 'video') NOT NULL,
    date DATE NOT NULL,
    user_id INT,
    FOREIGN KEY (user_id) REFERENCES users(id)
);

CREATE TABLE comments (
    id INT PRIMARY KEY AUTO_INCREMENT,
    content TEXT NOT NULL,
    date DATE NOT NULL,
    user_id INT,
    article_id INT,
    FOREIGN KEY (user_id) REFERENCES users(id),
    FOREIGN KEY (article_id) REFERENCES articles(id)
);

CREATE TABLE links (
    id INT PRIMARY KEY AUTO_INCREMENT,
    name VARCHAR(255) NOT NULL,
    url VARCHAR(255) NOT NULL
);
import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/home")
public class HomeServlet extends HttpServlet {
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        Connection conn = null;
        Statement stmt = null;
        ResultSet rs = null;
        StringBuilder latestContent = new StringBuilder();
        try {
            Class.forName("com.mysql.jdbc.Driver");
            conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/personal_website", "username", "password");
            stmt = conn.createStatement();
            String sql = "SELECT * FROM articles ORDER BY date DESC LIMIT 1";
            rs = stmt.executeQuery(sql);
            if (rs.next()) {
                latestContent.append("<h2>最新文章</h2>");
                latestContent.append("<h3>").append(rs.getString("title")).append("</h3>");
                latestContent.append("<p>").append(rs.getString("content")).append("</p>");
                latestContent.append("<p>发布日期: ").append(rs.getDate("date")).append("</p>");
            }
            request.setAttribute("latestContent", latestContent.toString());
            request.getRequestDispatcher("/index.jsp").forward(request, response);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            try { if (rs != null) rs.close(); } catch (Exception e) { e.printStackTrace(); }
            try { if (stmt != null) stmt.close(); } catch (Exception e) { e.printStackTrace(); }
            try { if (conn != null) conn.close(); } catch (Exception e) { e.printStackTrace(); }
        }
    }
}
import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/articles")
public class ArticleServlet extends HttpServlet {
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        Connection conn = null;
        Statement stmt = null;
        ResultSet rs = null;
        StringBuilder articlesList = new StringBuilder();
        try {
            Class.forName("com.mysql.jdbc.Driver");
            conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/personal_website", "username", "password");
            stmt = conn.createStatement();
            String sql = "SELECT * FROM articles ORDER BY date DESC";
            rs = stmt.executeQuery(sql);
            while (rs.next()) {
                articlesList.append("<h3>").append(rs.getString("title")).append("</h3>");
                articlesList.append("<p>").append(rs.getString("content")).append("</p>");
                articlesList.append("<p>发布日期: ").append(rs.getDate("date")).append("</p>");
            }
            request.setAttribute("articlesList", articlesList.toString());
            request.getRequestDispatcher("/articles.jsp").forward(request, response);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            try { if (rs != null) rs.close(); } catch (Exception e) { e.printStackTrace(); }
            try { if (stmt != null) stmt.close(); } catch (Exception e) { e.printStackTrace(); }
            try { if (conn != null) conn.close(); } catch (Exception e) { e.printStackTrace(); }
        }
    }
}
import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.ResultSet;
import java.sql.Statement;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/media")
public class MediaServlet extends HttpServlet {
    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        Connection conn = null;
        Statement stmt = null;
        ResultSet rs = null;
        StringBuilder mediaList = new StringBuilder();
        try {
            Class.forName("com.mysql.jdbc.Driver");
            conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/personal_website", "username", "password");
            stmt = conn.createStatement();
            String sql = "SELECT * FROM media ORDER BY date DESC";
            rs = stmt.executeQuery(sql);
            while (rs.next()) {
                mediaList.append("<h3>").append(rs.getString("title")).append("</h3>");
                if ("image".equals(rs.getString("type"))) {
                    mediaList.append("<img src='").append(rs.getString("path")).append("' alt='").append(rs.getString("title")).append("' />");
                } else if ("video".equals(rs.getString("type"))) {
                    mediaList.append("<video controls><source src='").append(rs.getString("path")).append("' type='video/mp4'>Your browser does not support the video tag.</video>");
                }
                mediaList.append("<p>发布日期: ").append(rs.getDate("date")).append("</p>");
            }
            request.setAttribute("mediaList", mediaList.toString());
            request.getRequestDispatcher("/media.jsp").forward(request, response);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            try { if (rs != null) rs.close(); } catch (Exception e) { e.printStackTrace(); }
            try { if (stmt != null) stmt.close(); } catch (Exception e) { e.printStackTrace(); }
            try { if (conn != null) conn.close(); } catch (Exception e) { e.printStackTrace(); }
        }
    }
}
import java.io.IOException;
import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.Statement;
import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/comments")
public class CommentServlet extends HttpServlet {
    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
        String content = request.getParameter("content");
        Connection conn = null;
        Statement stmt = null;
        try {
            Class.forName("com.mysql.jdbc.Driver");
            conn = DriverManager.getConnection("jdbc:mysql://localhost:3306/personal_website", "username", "password");
            stmt = conn.createStatement();
            String sql = "INSERT INTO comments (content, date, user_id, article_id) VALUES ('" + content + "', NOW(), 1, 1)";
            stmt.executeUpdate(sql);
        } catch (Exception e) {
            e.printStackTrace();
        } finally {
            try { if (stmt != null) stmt.close(); } catch (Exception e) { e.printStackTrace(); }
            try { if (conn != null) conn.close(); } catch (Exception e) { e.printStackTrace(); }
       
